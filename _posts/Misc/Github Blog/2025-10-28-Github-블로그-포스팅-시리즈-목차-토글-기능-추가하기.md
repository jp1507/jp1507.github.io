---
title: "[Github 블로그] 포스팅 시리즈 목차 토글 기능 추가하기"
date: 2025-10-28
categories: [Misc, Github Blog]
tags: [github, github blog, jekyll, blog, error, github 블로그, 깃허브, 블로그]
series: "Github 블로그 기능 추가하기"
series_order : 2
image:
  path: https://imgur.com/l3ku5lP.jpg
---

> Chirpy 테마 버전 7.3.1 기준으로 작성
{: .prompt-info }

## 시리즈 목차 토글 기능 추가하기

---

이전에 추가했던 시리즈 목차 기능을 잘 사용하던 와중 시리즈 포스팅이 엄청 많아졌고 밑도 끝도 없이 길어져서 본문을 보려면 한참 내려야하는 경우가 발생했다. 스크롤링도 은근 귀찮은 작업임에는 틀림 없으니 시리즈 목차를 펼치고 접는 토글 기능을 얼른 추가해보자.  

토글 기능 같은 경우 JavaScript를 이용해 더 나은 애니메이션을 추가해줄 수 있지만, 위와 같은 `<details>` 태그 방법을 더 추천한다고 한다. 그 이유는 다음과 같다.

- JavaScript 불필요
- 접근성 좋음
- 간단하고 안정적
- 모든 브라우저 지원
- SEO 친화적

더 복잡한 애니메이션이 필요하거나 열림/닫힘 상태를 로컬에 저장하고 싶다면 JavaScript를 이용해 구현해야한다.  

## 시리즈 목차 UI 컴포넌트 수정하기

---

기존에 만들어 둔 시리즈 목차 UI 컴포넌트를 다음과 같이 수정해준다. `<div class="series-nav">`부터 해당되는 내용만 바꿔주면 된다. 시리즈 포스팅이 총 몇 편인지와 아이콘, 현재 글 표시 등을 추가해 주는 코드이다.  

{% raw %}
```liquid
{% comment %} 포스팅에 'series' 필드가 정의되어 있으면 실행 {% endcomment %}
{% if page.series %}

  {% assign series_posts = site.posts | sort: "series_order" %}
  {% assign current_series = page.series %}

  {% comment %} 같은 시리즈의 모든 포스팅을 찾고 series_order 필드를 기준으로 정렬{% endcomment %}
  {% assign related_posts = site.posts | where: "series", current_series | sort: "series_order" %}

  {% comment %} 찾은 시리즈 포스팅이 2개 이상일 때만 표시한다.  {% endcomment %}
  {% if related_posts.size > 1 %}
  <div class="series-nav">
    <details open>
      <summary class="series-header">
        <span class="series-title"><strong>🗂️ {{ current_series }}</strong></span>
        <span class="series-count">전체 {{ related_posts.size }}편</span>
        <span class="toggle-icon">▼</span>
      </summary>
      <ol class="series-list">
        {% for post in related_posts %}
          <li {% if post.url == page.url %}class="current-post"{% endif %}>
            {% if post.url == page.url %}
              <strong>{{ post.title }}</strong>
              <span class="current-badge">현재 글</span>
            {% else %}
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            {% endif %}
          </li>
        {% endfor %}
      </ol>
    </details>
  </div>
  {% endif %}

{% endif %}
```
{: file="_includes/series_nav.html"}

{% endraw %}

만약 기본적으로 접힌 상태로 시작되도록 하려면 `<details open>`에서 `open` 속성만 제거하면 된다

{% raw %}
```liquid
<details>  <!-- open 제거 -->
  <summary class="series-header">
```

{% endraw %}

## 추가된 시리즈 목차 UI 레이아웃 설정하기

---

컴포넌트에 추가된 속성에 대한 스타일을 설정해 레이아웃을 잡아준다. 블로그 테마의 SCSS 파일에 기존 시리즈 목차에 대한 코드를 지우고 아래 코드를 삽입한다. 주석과 변수명을 참고해 본인의 기호에 맞게 설정해주면 된다.

```scss
...
// 시리즈 네비게이션 스타일
.series-nav {
  /* 외부 여백을 주어 본문과 분리 */
  margin: 1rem 0; 
  /* 테두리를 추가하여 별도의 블록임을 시각적으로 강조 */
  border: 1px solid #720000;
  padding: 1rem;
  border-radius: 5px;
  background-color: #212121;

  details {
    summary {
      cursor: pointer;
      user-select: none;
      list-style: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 0;
      
      // 기본 details 마커 제거
      &::-webkit-details-marker {
        display: none;
      }
      
      &::marker {
        display: none;
      }

      &:hover {
        .series-title {
          color: #f72626
        }
      }

      /* 시리즈 타이틀 */
      .series-title {
        font-size: 1.5rem;
        margin-bottom: 0.8rem;
        color: #e9e9e9;
        font-weight: bold;
        flex: 1;
      }

      /* 시리즈 개수 */
      .series-count {
        display: inline-block;
        padding: 0.2rem 0.6rem;
        background-color: #720000;
        color: #e9e9e9;
        border-radius: 0.3rem;
        font-size: 0.75rem;
        font-weight: 600;
        margin: 0 1rem;
        vertical-align: text-bottom;
      }

      /* 토글 아이콘 */
      .toggle-icon {
        transition: transform 0.3s ease;
        font-size: 1rem;
        color: #e9e9e9;
        display: inline-block;
        vertical-align: text-bottom;
      }
    }

    // 열렸을 때 아이콘 회전
    &[open] summary .toggle-icon {
      transform: rotate(-90deg);
    }

    .series-list {
      margin-top: 1rem;
      padding-left: 50px !important;
      animation: slideDown 0.3s ease;
      
      li {
        line-height: 1.5;
        margin: 0.6rem 0;
        transition: all 0.2s ease;

        &::marker {
          color: #adadad;
          font-size: 1.1rem;
          font-style: italic;
          font-weight: bold;
        }

        &.current-post {
          background-color: rgba(114, 0, 0, 0.2);
          padding: 0.3rem 0.5rem;
          margin-left: -0.5rem;
          border-radius: 0.3rem;
        }

        .current-badge {
          display: inline-block;
          padding: 0.1rem 0.4rem;
          background-color: #720000;
          color: #e9e9e9;
          border-radius: 0.2rem;
          font-size: 0.7rem;
          font-weight: 600;
          margin-left: 0.5rem;
          vertical-align: text-bottom;
        }
      }
    }
  }
}

// 슬라이드 다운 애니메이션
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```
{: file="assets/css/jekyll-theme-chirpy.scss" }

로컬 호스트 서버를 이용해 빠르게 확인하면서 수정해주자. 기존의 사용 방법 등은 변한게 없으므로 토글이 잘 작동하는지 기능적인 부분과 디자인만 확인하면 모두 끝이다. 여기까지 완료했다면 배포하여 마무리하면 되겠다.  

## 마무리

---

![이미지1](https://imgur.com/S5r81bn.png)

![이미지2](https://imgur.com/6qQI53G.png)

이번 포스팅에서 시리즈 목차 토글 기능을 추가해보았다. 만족스럽게 사용하던 기능에 더 좋은 편리성을 챙기니 좋지 않은가. 이렇게 블로그를 운영하며 필요한 기능이나 UI를 코딩을 통해 직접 만들고 추가할 수 있는 부분은 Github Pages를 이용한 블로그의 가장 유니크한 장점일 것이다. 도움이 되었거나 다른 유용한 기능을 개발했다면 댓글로 공유 바란다.
