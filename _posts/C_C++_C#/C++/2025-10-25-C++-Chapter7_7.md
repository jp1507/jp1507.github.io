---
title: "[C++] Chapter 7.7 함수 포인터"
date: 2025-10-25 15:08:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 54
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 7. 함수 : 함수 포인터

### 함수 포인터 정의

---

- 배열의 이름이 배열의 주소 값을 가지는 것처럼, 함수의 이름도 함수의 주소를 가짐

```cpp
int func(int x)
{
    return x;
}

int main()
{
    cout << func << endl; // 01201084(함수의 주소) 출력
    int (*funcptr)(int) = func; // 함수 포인터 funcptr 선언 및 초기화
    cout << funcptr << endl; // 01201084 출력
}
```

- `int` : 주소에 있는 함수의 리턴 타입
- `(*funcptr)` : 함수 포인터 이름 `funcptr`
- `(int)` : 주소에 있는 함수의 매개변수 타입
- `= func;` : 함수의 주소로 초기화

### 함수 포인터 사용 방법

---

```cpp
int func(int x)
{
    return x;
}

int main()
{
    cout << func << endl; 
    int (*funcptr)(int) = func; 
    cout << funcptr << endl; 

    cout << funcptr(5) << endl;  // 5출력
}
```

- `함수 포인터 이름(파라미터)`
  - 주소를 담고 있는 함수를 사용할 수 있음
  - 포인터 `funcptr`가 `func()`의 주소를 가지고 있으므로 `func(3)`을 `funcptr(3)`와 같이 호출할 수 있음
- 함수 포인터에 다른 함수를 대입하려면 리턴 타입, 매개변수 타입과 개수가 서로 일치해야함

### 함수 포인터를 파라미터로 전달

---

```cpp
void printNumbers(const array<int, 10>& my_arr, bool print_even)
{
  for (auto element : my_arr)
  {
      if (print_even && element % 2 == 0) cout << element;
      if (!print_even && element % 2 == 1) cout << element;
  }
  cout << endl;
}
int main()
{
  std::array<int, 10> my_arr{ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };

  printNumbers(my_arr, true); // 짝수만 출력
  printNumbers(my_arr, false); // 홀수만 출력
}
```

- 홀수, 짝수인지 리턴하는 함수를 파라미터로 전달해 어떤 함수인지에 따라 다르게 실행하도록 할 수 있음

```cpp
bool isEven(const int& number)
{
  return number % 2 == 0;
}
bool isOdd(const int& number)
{
  return number % 2 == 1;
}
void printNumbers(const array<int, 10>& my_arr, bool(*check_fcn)(const int&))
{
  for (auto element : my_arr)
  {
    if (check_fcn(element) == true) cout << element;
  }
  cout << endl;
}
int main()
{
    std::array<int, 10> my_arr{ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };

    printNumbers(my_arr, isEven); // 짝수인 원소만 출력
    printNumbers(my_arr, isOdd); // 홀수인 원소만 출력
}
```

- 어떤 기능을 할지, 함수 이름을 파라미터로 넘겨 기능을 명시
- `check_fcn`은 함수 포인터이기 때문에 함수 이름을 전달
  - `isEven`를 전달하면 `isEven(element)`와 같음
  - `isOdd`를 전달하면 `isOdd(element)`와 같음

```cpp
bool(*check_fcn)(const int&) = isEven
```

- 매개변수를 위와 같이 디폴트 값을 `isEven`으로 설정해주면 `printNumbers(my_arr)`를 호출 했을 때 짝수인 원소만 출력됨

### 함수 포인터 타입 줄여쓰기

---

1. using

    ```cpp
    using check_fcn_t = bool(*)(const int&);
    check_fcn_t funcptr = isEven;
    // bool(*funcptr)(const int&) = isEven
    ```

    - `bool(*)(const int&)` 데이터 타입을 `check_fcn_t`로 줄여 쓸 수 있음

2. typedef

    ```cpp
    typedef bool(*check_func_t)(const int&);
    check_fcn_t funcptr = isEven;
    // bool(*funcptr)(const int&) = isEven
    ```

    - `bool(*)(const int&)` 데이터 타입을 `check_fcn_t`로 줄여 쓸 수 있음

### std::function

---

- `#include <functional>`
- C++ 11 이상부터 지원하며 함수 포인터보다 더 많이 사용함

```cpp
std::function<bool>(const int&) funcptr = isEven; 
// bool을 리턴하고 const int& 매개변수를 필요로 하는 함수의 주소를 담을 수 있는 변수
```
