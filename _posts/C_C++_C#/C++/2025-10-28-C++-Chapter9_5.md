---
title: "[C++] Chapter 9.5 비교 연산자 오버로딩"
date: 2025-10-28 14:11:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 81
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 9. 연산자 오버로딩 : 비교 연산자 오버로딩

- 비교 연산자 : `==`, `!=`, `>`, `>=`
- 비교 연산자 오버로딩은 원래 연산처럼 `bool` 타입을 리턴하도록 구현하는 것을 권장
- `==` 연산자를 오버로딩 없이 객체끼리 사용하면 주소가 같은지, 즉 동일한 객체인지에 대한 결과를 얻음
- 크기 비교 연산자 오버로딩시 `<`, `<=`는 불가능하고 `>`, `>=`만 가능

### 전역 함수로 구현

---

```cpp
#include <iostream>
using namespace std;

class Cents
{
private:
    int m_cents;
public:
    Cents(int cents = 0) { m_cents = cents; }
    int getCents() const { return m_cents; }
    int& getCents() { return m_cents; }

    friend std::ostream& operator <<(std::ostream& out, const Cents& cents)
    {
        out << cents.m_cents;
        return out;
    }
    friend bool operator ==(const Cents& c1, const Cents& c2)
    {
        return c1.m_cents == c2.m_cents;
    }
};

int main()
{
    Cents cents1(6);
    Cents cents2(6);

    if (cents1 == cents2)
      cout << "Equal " << endl;
    return 0;
}
```

### 멤버 함수로 구현

---

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

class Cents
{
private:
    int m_cents;
public:
    Cents(int cents = 0) { m_cents = cents; }
    int GetCents() const { return m_cents; }
    int& GetCents() { return m_cents; }

    bool operator <(const Cents& c2)
    {
        return this->m_cents < c2.m_cents;
    }
    bool operator ==(const Cents& c2)
    {
        return this->m_cents == c2.m_cents;
    }

    friend std::ostream& operator <<(std::ostream& out, const Cents& cents)
    {
        out << cents.m_cents;
        return out;
    }
};
```

**객체를 담은 벡터 정렬**  

- 객체들을 담는 `vector` 컨테이너를 정렬시키려면 크기 비교에 대한 기준이 있어야 함
- 객체끼리 크기 비교의 기준이 없기 때문에 비교 연산자 오버로딩 필요

```cpp
int main()
{
    vector<Cents> arr(10);

    for (unsigned i = 0; i < 10; ++i)
        arr[i].getCents() = i;

    std::random_shuffle(begin(arr), end(arr)); 

    for (auto& e : arr)
        cout << e << " ";
    cout << endl;

    std::sort(begin(arr), end(arr));

    for (auto& e : arr)
        cout << e << " ";

    return 0;
}
```

- `std::sort(begin(arr), end(arr));`
  - `vector`의 원소들을 정렬하는데 비교 연산자 오버로딩 없으면 에러 발생

1. 오름차순 정렬

    ```cpp
    bool operator <(const Cents& c2)
    {
        return this->m_cents < c2.m_cents;
    }
    ```

2. 내림차순 정렬

    ```cpp
    bool operator <(const Cents& c2)
    {
        return this->m_cents > c2.m_cents;
    }
    ```
