---
title: "[C++] Chapter 6.18 이중 포인터와 동적 다차원 배열"
date: 2025-10-24 15:43:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 45
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## 이중 포인터와 동적 다차원 배열

---

```cpp
int value = 5;
int* ptr = &value;
int** ptrptr = &ptr; // 이중 포인터 : ptr의 주소 값
```

## 2차원 동적 배열 구현

---

**2차원 배열**  

- 2차원 배열은 **포인터의 배열**과 같음

```cpp
int* row_1 = new int[col] {1, 2, 3, 4, 5};
int* row_2 = new int[col] {6, 7, 8, 9, 10};
int* row_3 = new int[col] {11, 12, 13, 14, 15};

int** 2d_arr = new int* [row] {row_1, row_2, row_3};
// 포인터 3개가 들어있는 배열(포인터)의 주소
// 포인터의 포인터이므로 데이터 타입은 int**

delete [] row_1;
delete [] row_2;
delete [] row_3;
delete [] 2d_arr;
```

```cpp
int** matrix = new int* [row]; 
for(int r = 0; r < row; r++)
  matrix[r] = new int[col]; 

for(int r = 0; r < row; r++)
  for(int c = 0; c < col; c++)
    matrix[r][c] = r * col + c;

for(int r = 0; r < row; r++)
{
  for(int c = 0; c < col; c++)
    cout << matrix[r][c] << " ";
  cout << endl;  
}
```

## 동적 배열 할당 해제

---

- 사용 후 반드시 `delete` 해주어야 함

```cpp
for(int r = 0; r < row; r++)
    delete[] matrix[r];

delete[] matrix;
```

1. 2차원 동적 배열의 각 원소를 먼저 `delete` 해줌
2. 원소가 row개 있는 2차원 동적 배열을 `delete` 해줌

## 1차원 배열을 2차원 배열처럼 사용

---

```cpp
const int row = 3;
const int col = 5;

const int static2DArr[row][col] = 
{
    { 1, 2, 3, 4, 5},
    {6, 7, 8, 9, 10},
    {11, 12, 13, 14, 15}
};

int* matrix = new int[row * col];

for(int r = 0; r < row; r++)
  for(int c = 0; c < col; c++)
    matrix[col * r + c] = static2DArr[r][c]; 

for(int r = 0; r < row; r++)
{
  for(int c = 0; c < col; c++)
    cout << matrix[col * r + c] << " ";
  cout << endl;
}

delete matrix;
```
