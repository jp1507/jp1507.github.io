---
title: "[C++] Chapter 12.7 순수 가상 함수, 추상 클래스, 인터페이스"
date: 2025-11-01 14:19:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 109
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 12. 가상 함수 : 순수 가상 함수, 추상 클래스, 인터페이스

### 순수 가상 함수

---

```cpp
virtual void func() = 0;
```

- 함수의 바디가 없는 가상 함수로, 자식 클래스에서 **반드시** 오버라이딩해야 하는 함수
- 바디 없이 함수의 프로토타입만 선언하고 끝에 `= 0`을 붙임

### 추상 기본 클래스

---

- 순수 가상 함수를 포함하고 있는 클래스는
- 순수 가상 함수를 포함하고 있어 자식 클래스들이 오버라이딩 할 것을 강제함
- 따라서 추상 클래스로 객체를 생성할 수 없음

```cpp
class Animal
{
protected:
    string m_name;
public:
    Animal(std::string name) :m_name(name) {}
public:
    string GetName() { return m_name; }
    virtual void Speak() const = 0;
};

class Cow : public Animal
{
protected:
    string m_name;
public:
    Cow(std::string name) :Animal(name) {}
};

void Animal::speak() const
{
    cout << m_name << endl;
}

int main()
{
    Cow cow("hello");       // Error !!!
    Animal ani("Hi");       // Error !!!
}
```

- `Animal` 클래스는 추상 클래스
  - `void Animal::speak() const`로 클래스 바깥에서 바디를 구현하더라도 절대 쓰이지 않고, 반드시 자식 클래스에서 오버라이딩해야 함
- `Cow cow("hello");`
  - 순수 가상 함수를 오버라이딩해주지 않은 객체를 생성하려고 해서 에러 발생
- `Animal ani("Hi");`
  - 추상 클래스인 `Animal` 타입으로 객체를 생성하려고 해서 에러 발생
    - 순수 가상 함수가 아닌 일반 멤버 함수들은 접근 지정자에 따라 자신 혹은 자식 클래스 내부 `protected`나 `public`에서만 사용할 수 있음

### 인터페이스 클래스

---

- 모든 함수가 순수 가상 함수인 클래스로, 자신만의 멤버 변수를 가지지 않음

```cpp
class IErrorLog
{
public:
    virtual bool ReportError(const char* error) = 0;
    virtual ~IErrorLog() {}
};
```

- 인터페이스를 상속 받는 클래스는 반드시 인터페이스 내에 모든 함수들을 오버라이딩 해야 함
- 인터페이스는 자식 클래스들에게 어떤 기능을 반드시 가지고 있되 기능의 내용은 각각 구현하는 설계도 역할을 함
- 인터페이스도 추상 클래스의 한 종류이기 때문에 객체 생성 불가능
- 인터페이스 클래스의 이름 앞에는 대문자 `I`를 붙이는 것이 관습

```cpp
class IErrorLog
{
public:
    virtual bool reportError(const char* error) = 0;
    virtual ~IErrorLog() {}
};

class FileErrorLog : public IErrorLog
{
public:
    bool ReportError(const char* errorMessage) override
    {
        cout << "Writing error to a file" << endl;
        return true;
    }
};

class ConsoleErrorLog : public IErrorLog
{
public:
    bool ReportError(const char* errorMessage) override
    {
        cout << "Printing error to a console" << endl;
        return true;
    }
};

void DoSomething(IErrorLog& log)
{
    log.reportError("Runtime error!!");
}

int main()
{
    FileErrorLog file_log;
    ConsoleErrorLog console_log;

    DoSomething(file_log);
    DoSomething(console_log);
}
```
