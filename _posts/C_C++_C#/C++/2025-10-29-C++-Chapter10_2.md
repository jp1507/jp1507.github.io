---
title: "[C++] Chapter 10.2 구성 관계"
date: 2025-10-29 13:00:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 91
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 10. 객체들 사이의 관계 : 구성 관계

| 종류  | 관계를 표현하는 동사 | 관계의 형태 | 다른 클래스에 포함 가능 | 멤버 존재를 클래스가 관리 | 방향성 |
| :---: | :------------------: | :---------: | :---------------------: | :-----------------------: | :----: |
| 구성  |       Part-of        |  전체/부품  |           No            |            Yes            | 단방향 |

### 구조 설명

---

```cpp
#include "position2d.h"
class Monster
{
private:
    std::string m_name;
    Position2D m_location;   // 구성 관계

...

Monster goblin;  // 객체
```

`Position2D` 타입 객체 `m_location`은 `Monster` 객체를 구성하는 부품

- `m_location`은 `Monster`의 다른 멤버에 대해 알 필요가 없음
- 다른 클래스에 포함 가능 : No
  - `Position2D`는 `Monster`의 일부분으로 `Monster`의 위치 정보를 담음
  - `Position2D` 클래스는 여러 클래스에 속할 수 있으니 `Monster`의 `m_location` 객체는 다른 클래스의 `m_location`과는 별개의 존재
- 멤버의 존재를 클래스가 관리 : Yes
  - `Monster` 타입 객체가 사라지면 멤버인 `Position2D` 타입 객체 `m_location`도 사라짐
  - **단방향** 관계

### 예시

---

```cpp
#include <iostream>

class position2d
{
private:
    int m_x;
    int m_y;
public:
    position2d(const int & x_in, const int & y_in) : m_x(x_in), m_y(y_in) {}

    void set(const position2d& pos_target)
    {
        set(pos_target.m_x, pos_target.m_y);
    }

    void set(const int& x_target, const int& y_target)
    {
        m_x = x_target;
        m_y = y_target;
    }

    friend std::ostream& operator <<(std::ostream& out, const position2d& pos2d)
    {
        out << pos2d.m_x << " " << pos2d.m_y 
        return out;
    }
};
```
{: file="Position2D.h"}

```cpp
#pragma once

#include <string>
#include "position2d.h"
class Monster
{
private:
    std::string m_name;
    position2d m_location;
public: 
    Monster(const std::string name_in, const position2d & pos_in) : m_name(name_in), m_location(pos_in) {}

    void moveTo(const position2d& pos_target)
    {
        m_location.set(pos_target);
    }

    friend std::ostream & operator <<(std::ostream& out, const Monster& monster)
    {
        out << monster.m_name << " " << monster.m_location 
        return out;
    }
};
```
{: file="Monster.h"}

```cpp
#include "Monster.h"
using namespace std;

int main()
{
    Monster mon1("Simpson", position2d(0, 0));
    cout << mon1 << endl; 
    {
        mon1.moveTo(position2d(1,1));
        cout << mon1 << endl; 
    }
    return 0; 
}
```
{: file="main.cpp"}
