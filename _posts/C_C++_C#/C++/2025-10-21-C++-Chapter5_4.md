---
title: "[C++] Chapter 5.4 std::cin 활용"
date: 2025-10-21 15:58:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 27
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## std::cin

---

- `cin`은 **공백 단위**로 구분하여 입력을 받음
- 입력 받은 것을 버퍼에 넣은 후 하나씩 꺼내는 방식

```cpp
#include <iostream>

using namespace std;

int GetInt()
{
  cout << "Enter a integer number : ";
  int x;
  cin >> x;

  return x;
}

char GetOperator()
{
  cout << "Enter an operator (+,-) : "; 
  char op;
  cin >> op;
  return op;
}
void PrintResult(int x, char op, int y)
{
  if (op == '+') 
    cout << x + y << endl;
  else if (op == '-') 
    cout << x - y << endl;
  else
    cout << "Invalid operator" << endl;
}

int main()
{
  int x = getInt();
  char op = getOperator();
  int y = getInt(); 

  printResult(x, op, y); 

  return 0;
}
```

- `main()`의 첫 번째 줄에서 "100 100"로 입력한다면 버퍼에 `100 100 \n`이 들어감
- 공백으로 구분하여 `x`에 100이 되고 버퍼는 `100 \n`이 됨
- 이 상태에서 `char op = getOperator();`에서 `char`은 정수를 받을 수 있기 때문에 다른 입력이 들어오더라도 버퍼에 남아있던 100이 먼저 꺼내지고 "Invalid operator"가 출력됨
- 버퍼를 비워주는 코드가 있으면 정상적으로 동작함

## std::cin.ignore

---

```cpp
int GetInt()
{
  cout << :"Enter an integer number : ";
  int x;
  cin >> x;
  std::cin.ignore(32767, '\n');
  return x;
}
```

- `std::cin.ignore(무시할 문자 길이, 종료 문자)`
  - 입력 버퍼에서 종료 문자가 나올 때까지 무시할 문자 길이 만큼 무시하고 비움
  - 무시할 문자 길이와 종료 문자를 설정하지 않으면 기본적으로 적용됨

## std::cin.fail(), std::cin.clear()

---

```cpp
int GetInt()
{
  cout << :"Enter an integer number : ";
  int x;
  cin >> x;

  if (std::cin.fail())
  {
    std::cin.clear();
    std::cin.ignore(32767, '\n');
    cout << "Invaild number, please try again" << endl;
  }
  else
  {
    std::cin.ignore(32767, '\n');
    return x;
  }
}
```

- `std::cin.fail()` : `cin` 오류 시, 즉 입력 실패시 `true`를, 아니면 `false` 반환
- `std::cin.clear()` : `cin` 내부 상태 플래그 값을 초기화시켜 `cin` 관련 기능이 정상 작동하도록 함
