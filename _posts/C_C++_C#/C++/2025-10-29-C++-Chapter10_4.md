---
title: "[C++] Chapter 10.4 연계 관계"
date: 2025-10-29 13:00:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 93
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 10. 객체들 사이의 관계 : 연계 관계

| 종류  | 관계를 표현하는 동사 | 관계의 형태  | 다른 클래스에 포함 가능 | 멤버 존재를 클래스가 관리 |      방향성      |
| :---: | :------------------: | :----------: | :---------------------: | :-----------------------: | :--------------: |
| 연계  |        Uses-a        | 용도 외 무관 |           Yes           |            No             | 단방향 or 양방향 |

### 제휴 관계

---

환자는 의사로부터 치료를 받고 의사는 환자로부터 치료비를 받는 동등한 입장으로서의 **상호 작용 관계**

- 다른 클래스에 포함 가능 : 용도 외 무관
  - 환자 클래스에서 의사 클래스의 멤버를 사용할 일이 있을 때만 사용하고 그 외 무관
  - 환자는 여러 의사에 속할 수도 있고 아닐 수도 있음
  - 의사는 여러 환자에 속할 수도 있고 아닐 수도 있음
- 멤버 존재를 클래스가 관리 : No
  - 다른 클래스에 속하지 않기 때문
- 단방향 or 양방향
  - 동등한 입장으로서의 상호 작용 관계이기 때문
  - 1:1 뿐만 아니라 1:N도 가능

```cpp
#include <iostream>
#include <vector>
#include <string>
#include "Doctor.h"
using namespace std;

class Patient
{
private:
    string m_name;
    vector<Doctor*> m_doctors;
public:
    Patient(string name_in) : m_name(name_in) {}

    void AddDoctor(Doctor* new_doctor)
    {
        m_doctors.push_back(new_doctor);  
    }

    void MeetDoctors()
    {
        for (auto& ele : m_doctors)
            cout << "Meet doctor : " << ele->m_name << endl;
    }

    friend class Doctor;
};

```
{: file="Patient.h"}

```cpp
#include <iostream>
#include <vector>
#include <string>
#include "Patient.h"
using namespace std;

class Doctor
{
private:
    string m_name;
    vector<Patient*> m_patients;
public:
    Doctor(string name_in) : m_name(name_in) {}

    void addPatient(Patient* new_patient)
    {
        m_patients.push_back(new_patient);
    }

    void meetPatients()
    {
        for (auto & ele : m_patients)
            cout << "Meet patient : " << ele->m_name << endl;
    }

    friend class Patient;
};
```
{: file="Doctor.h"}

```cpp
#include "Patient.h"
#include "Doctor.h"

int main()
{
    Patient* p1 = new Patient("Jack Jack");
    Patient* p2 = new Patient("Dash");
    Patient* p3 = new Patient("Violet");

    Doctor* d1 = new Doctor("Doctor K");
    Doctor* d2 = new Doctor("Doctor L");

    p1->addDoctor(d1);
    d1->addPatient(p1);

    p2->addDoctor(d2);
    d2->addPatient(p2);

    p2->addDoctor(d1);
    d1->addPatient(p2);

    p1->meetDoctors(); 
    d1->meetPatients();

    delete p1;
    delete p2;
    delete p3;

    delete d1;
    delete d2;

    return 0;
}
```
{: file="main.cpp"}
