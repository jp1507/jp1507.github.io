---
title: "[C++] Chapter 13.8 멤버 함수를 한번 더 템플릿화 하기"
date: 2025-11-02 14:22:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 121
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 13. 템플릿 : 멤버 함수를 한번 더 템플릿화 하기

```cpp
#include <iostream>
#include <typeid>

using namespace std;

template<class T>
class A
{
private:
    T m_value;
public:
    A(const T& input) : m_value(input) {}
    
    template<typename TT>
    void DoSomething(const TT& input)
    {
        cout << typeid(T).name() << " " << typeid(TT).name() << endl;
        cout << (TT)m_value << endl;
    }
  
    void Print()
    {
        cout << m_value << endl;
    }
};

int main()
{
    A<int> a_int(123);
    a_int.Print();
    
    a_int.DoSomething<float>(123.4);
    a_int.DoSomething(123.4);

    A<char> a_char('A');
    a_char.Print();

    a_char.DoSomething(int());
}
```
```text
-출력-

123
int float
123
int double
123
char int
65
```

- 멤버 함수를 일반적인 다른 타입에 대해 템플릿할 수 있음
- 멤버 함수 `DoSomething`은 `TT`라는 일반적인 타입 이름으로 한번 더 템플릿화
  - `typeid(T).name()`
    - 멤버 함수를 호출하는 객체가 구체화 된 데이터 타입 이름
  - `typeid(TT).name()`
    - 멤버 함수가 구체화된 데이터 타입 이름
- `a_int.doSomething<float>(123.4);`
  - 멤버 함수를 호출한 객체 `a_int`는 `int` 타입으로 구체화가 되었지만 멤버 함수는 `float` 타입으로 구체화 됨
    - 인수로 넘긴 123.4은 `double` 타입이므로 `float`으로 자동 형변환됨
  - `(TT)m_value`  : `int`이자 123인 `m_value`는 `float`인 `TT`로 형변환되어도 123임
- `a_int.doSomething(123.4);`
  - 멤버 함수를 호출한 객체 `a_int`는 `int`로 구체화가 되었지만 멤버 함수는 `<타입>`을 명시해주진 않았지만 인수가 `double` 타입이므로 이 멤버 함수는 `dobule`로 구체화 되었다.
- `a_char.doSomething(int());`
  - 멤버 함수를 호출한 객체 `a_char`는 `char`로 구체화가 되었지만 멤버 함수는 `<타입>`을 명시해주진 않았지만 인수가 `int` 타입이므로 이 멤버 함수는 `int`로 구체화 되었다.
  - `(TT)m_value` : `char`이자 ‘A’인 `m_value`는 `int`인 `TT`로 형변환되어 65가 됨
