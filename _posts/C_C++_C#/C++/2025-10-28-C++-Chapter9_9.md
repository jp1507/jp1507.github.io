---
title: "[C++] Chapter 9.9 형변환 오버로딩"
date: 2025-10-28 15:12:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 85
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 9. 연산자 오버로딩 : 형변환 오버로딩

### 형변환 오버로딩이 필요할 때

---

```cpp
Cents c;
int(c);   // Error !!!
```

- `Cents` 타입 객체인 `c`를 `int`로 암시적 형변환할시 에러 발생
- 직접 `Cents` 타입 객체가 어떤 특정 데이터 타입으로 형변환해야 할 시점에 호출되는 연산자 오버로딩이 필요

### 형변환 오버로딩 형식

- `operator 자료형()`
- 형변환 오버로딩은 **멤버함수로만 구현 가능**

```cpp
operator int()
{
    cout << "cast here" << endl;
    cout << m_cents << endl;
    return m_cents;
}
```

### 형변환 오버로딩 호출 시점

---

```cpp
#include <iostream>
using namespace std;

class Cents
{
private:
    int m_cents;
public:
    Cents(int cents = 0) { m_cents = cents; }
    int GetCents() { return m_cents; }
    void SetCents(int cents) { m_cents = cents; }

    operator int()
    {
      cout << "cast here" << endl; 
      cout << m_cents << endl;
      return m_cents;
    }
};

class Dollar
{
private:
    int m_dollars = 0;
public:
    Dollar(const int& input) : m_dollars(input) {}

    operator Cents()
    {
      return Cents(m_dollars * 100);
    }
};

void printInt(const int &value)
{
    cout << value << endl;
}

int main()
{
    Cents cents(7);

    int value = (int)cents;
    value = int(cents);
    value = static_cast<int>(cents);
    printInt(cents);

    Dollar dol(2);

    Cents cents = dol;    // m_dollars = 200

    return 0;
}
```
