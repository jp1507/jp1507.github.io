---
title: "[C++] Chapter 7.14 생략 부호"
date: 2025-10-26 15:41:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 61
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 7. 함수 : 생략 부호

- `#include <cstdarg>`
- 매개변수의 개수가 정해져 있지 않은 경우 사용
- **가변 인수**라고도 함
- `prinf` 함수도 가변 인수로 구현된 함수이기 때문에 매개변수의 개수를 다양하게 호출할 수 있음

    ```cpp
    printf("%d %d", a, b);
    printf("%f = %d + %f", a, b, c);
    ```
- 되도록 사용을 권장하지 않음

```cpp
#include <iostream>
#include <cstdarg>
using namespace std;

double findAverage(int count, ...) 
{
  double sum = 0;

  va_list list; 

  va_start(list, count); 
  for (int arg = 0; arg < count; ++arg)
    sum += va_arg(list, int); 
  va_end(list); 
  
  return sum / count;
}
```

- `double findAverage(int count, ...)`
  - 가변 인수로 구현
  - `int count` : 인수의 개수
  - `...` : 명령 인수의 타입과 개수 생략
- `va_list list`
  - 가변 인수를 읽기 위한 포인터 변수
  - `va_list`는 `char*` 포인터 타입
- `va_start(list, count)`
  - `list`가 첫 번째 가변인수를 읽도록 초기화
  - 두 번째 매개변수는 고정 인수로 반드시 전달
- `va_arg(list, int)`
  - 가변 인수들을 실제로 읽는 명령
  - 어떤 타입으로 읽을지
- `va_end(list)`
  - 가변 인수들을 모두 읽은 후 종료

```cpp
int main()
{
  cout << findAverage(1, 1, 2, 3, "Hello", 'c') << endl;
  cout << findAverage(3, 1, 2, 3) << endl;
  cout << findAverage(10, 1, 2, 3, 4, 5) << endl;
  return 0;
}
```

- `findAverage(1, 1, 2, 3, "Hello", 'c')`
  - 첫 번째 인수로 1이 전달되므로 1개만 읽음
  - 나머지 인수들은 무시되고 1이 출력됨
- `findAverage(3, 1, 2, 3)`
  - 첫 번째 인수로 3이 전달되므로 3개만 읽음
  - 1, 2, 3이 전달되고 2가 출력됨
- `findAverage(10, 1, 2, 3, 4, 5)`
  - 첫 번째 인수로 10이 전달되므로 10개를 읽음
  - 인수로 1, 2, 3, 4, 5가 전달되고 나머지 5개는 쓰레기 값이 전달되므로 이상한 값이 출력됨
