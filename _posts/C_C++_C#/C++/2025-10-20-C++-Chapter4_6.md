---
title: "[C++] Chapter 4.6 열거형, 열거형 클래스"
date: 2025-10-20 13:00:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 21
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## 열거형 enum

---

**열거형이 필요한 이유**  

- 비슷한 의미의 어떤 상수 값들에 이름을 붙여 카테고리화하여 가독성을 높임

```cpp
enum Color
{
  COLOR_BLACK, // 0
  COLOR_RED,   // 1
  COLOR_BLUE,  // 2
  COLOR_GREEN, // 3
};

int main()
{
  Color paint = COLOR_BLACK; // paint에 내부적으로는 0
  Color house(COLOR_BLUE);   // house에 내부적으로는 2
  Color apple(COLOR_RED);    // apple에 내부적으로 1 

  std::cout << paint << std::endl; // 출력 0
}
```

- `enum Color`
  - 새로운 자료형을 만들고, 이 데이터의 종류에는 `COLOR_BLACK`, `COLOR_RED`, `COLOR_BLUE`, `COLOR_GREEN`이 있으며 내부적으로 각각 0, 1, 2, 3로 작동함
- 값을 지정하지 않으면 첫 번째 항목부터 암시적으로 0, 1, 2, ...으로 대응되고, 직접 값을 지정해줄 수 있음
    ```cpp
    enum Color
    {
        COLOR_BLACK = -1, // -1
        COLOR_RED = -3,   // -3
        COLOR_BLUE = -4,  // -4
        COLOR_GREEN = -7, // -7
    };
    ```
- 직접 값을 하나 지정하면 자동적으로 그 다음 키워드부터 +1씩 대응됨
  ```cpp
  enum Color
  {
    COLOR_BLACK = 3, // 3
    COLOR_RED,       // 4
    COLOR_BLUE,      // 5
    COLOR_GREEN,     // 6
  };
  ```
- 다른 키워드에 같은 값을 대응시키면 에러
- 키워드끼리 쉼표(`,`)로 구분하며 중괄호 끝에 세미콜론(`;`) 붙여야함

**주의 사항**  

1. 전역처럼 작동하기 때문에 서로 다른 `enum`이라도 변수명이 같으면 에러가 발생
    ```cpp
    enum Feeling
    {
        BLUE = -3,  
        HAPPLY = -4, 
    };
    enum Color
    {
        BLUE, // Error !!! BLUE는 Felling에 이미 존재
        RED,
    };
    ```
2. `enum`으로 지정한 데이터 타입 변수에 직접 정수를 대입할 수 없음
    ```cpp
    int color_id = COLOR_RED;  // -3
    Color my_red = -3;         // Error !!!
    Color my_red = color_id;   // Error !!! color_id가 int로서 -3이므로
    ```
   - 암시적 형변환이 안되기 때문에 `int` 타입을 `enum` 타입 변수에 대입할 수 없음
   - 명시적 형변환을 이용해 대입해줄 수 있음
      ```cpp
      Color my_red = static_cast<Color>(-3);
      ```
3. 초기화 값을 직접 입력받을 수 없음
    ```cpp
    Color my_color;

    cin >> my_color // Error !!! 

    int input;
    cin >> input;

    if (input == 0) 
      my_color= COLOR_BLACK;
    else if (input == 1) 
      my_color = COLOR_PINK;
    ```
    - `int` 타입 변수에 입력을 받아 형변환을 해주어야함

## 열거형 클래스(영역 제한 열거형)

---

- `enum class`
  - C++ 11 이상부터 지원

```cpp
int main()
{
  enum Color
  {
    RED,
    BLUE
  };

  enum Fruit
  {
    BANANA,
    APPLE,
  };

  Color color = RED;
  Fruit fruit = BANANA;

  if (color == fruit)
    cout << "Color is fruit ? " << endl;
  // 내부적으로 0이기 때문에 같은 값으로 보임
}
```

- `if (color == fruit)`
  - 내부적으로 `int` 0의 값을 가지기 때문에 비교 가능하며 이를 막기 위해 **영역을 좀 더 엄격히 구분**하여 제한하는 것이 열거형 클래스

```cpp
enum class Color
{
  RED,
  BLUE
};

enum class Fruit
{
  BANANA,
  APPLE,
};

Color color = Color::RED;
Fruit fruit = Fruit::BANANA;
```

- `Color::RED`와 `Fruit:BANANA`는 0의 값을 갖지만 비교할 수 없음
- `int` 타입으로 형변환 후 비교 가능함
    ```cpp
    Color color = Color::RED;
    Fruit fruit = Fruit::BANANA;

    if (static_cast<int>(color) == static_cast<int>(fruit))
      cout << "Color is fruit " << endl;
    ```
