---
title: "[C++] Chapter 12.11 자식 클래스에서 출력 연산자 사용"
date: 2025-11-01 15:17:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 113
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 12. 가상 함수 : 자식 클래스에서 출력 연산자 사용

### 출력 연산자 오버로딩 구현

---

- 입출력 연산자 오버로딩은 전역 함수로만 구현 가능함
  - `<<` 연산자의 왼쪽 피연산자가 되는 `std::cout`이 `ostream` 타입인데 C++ 표준인 `ostream`를 수정할 수 없기 때문

### 오버라이딩 하기 위한 대안

---

- 출력 연산자 내에 함수 하나만 호출하고 정작 출력 오버로딩 내용은 이 함수 안에서 구현

```cpp
#include <iostream>
using namespace std;

class Base
{
private:
    int m_base;
public:
    Base(const int& input = 0) :m_base(input) {}
    friend ostream& operator <<(ostream& out, const Base& base)
    {
        return base.print(out);
    }
    virtual ostream& Print(ostream& out) const
    {
        out << "Base";
        return out;
    }
};

class Derived : public Base
{
public:
    virtual ostream& Print(ostream& out) const override
    {
        out << "Derived";
        return out;
    }
};

int main()
{
    Base b;
    std::cout << b << '\n';     // Base 출력

    Derived d;
    std::cout << d << '\n';     // Derived 출력

    Base & bref = d;
    std::cout << bref << '\n';      // Derived 출력
}
```

1. `std::cout << d << '\n';`
   - `Base`의 출력 연산자 오버로딩 호출
2. 출력 연산자 오버로딩의 인수에서 `const Base & base = d`
3. `base.Print(out)`
   - 가상 함수이므로 `Derived`의 `Print()`가 호출됨
4. *"Derived"* 출력
