---
title: "[C++] Chapter 9.6 증감 연산자 오버로딩"
date: 2025-10-28 14:22:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 82
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## Chapter 9. 연산자 오버로딩 : 증감 연산자 오버로딩

- 증감 연산자 : `++`, `--`
- 증감 연산자는 전위, 후위를 구분해야 함

### 전위 증감 연산자 오버로딩

---

```cpp
int a = 2;
cout << ++a << endl;    // 3 출력
```

- 전위 증감 연산자는 값이 증감하는게 바로 반영되어야 하므로 자기 자신을 참조로 리턴해야 함

**전역 함수로 구현**  

```cpp
#include <iostream>

using namespace std;

class Digit
{
private:
    int m_digit;
public:
    Digit(int digit = 0) : m_digit(digit) {}

    friend ostream& operator <<(ostream& out, const Digit& d)
    {
        out << d.m_digit;
        return out;
    }

    friend Digit& operator ++(Digit& digit)
    {
        ++digit.m_digit;
        return digit;
    }
};

int main()
{
    Digit d(5);
    cout << ++d << endl;    // 6 출력
    cout << d << endl;    // 6 출력

    return 0;
}
```

**멤버 함수로 구현**  

```cpp
#include <iostream>
using namespace std;

class Digit
{
private:
    int m_digit;
public:
    Digit(int digit = 0) : m_digit(digit) {}

    friend ostream& operator <<(ostream& out, const Digit& d)
    {
        out << d.m_digit;
        return out;
    }

    Digit& operator ++()
    {
        ++m_digit;
        return *this;
    }
};

int main()
{
    Digit d(5);
    cout << ++d << endl;
    cout << d << endl;

    return 0;
}
```

### 후위 증감 연산자 오버로딩

---

```cpp
int a = 2;

cout << a++ << endl;    // 2 출력
cout << a << endl;    // 3 출력
```

- 후위 증감 연산자는 값이 증감하는게 세미 콜론(`;`)을 만난 후 반영됨

**후위 증감 연산자 구현**  

```cpp
friend Digit operator ++(Digit& digit, int)   // 전역 함수
{
    Digit temp(digit.m_digit);
    ++digit;
    return temp;
}

Digit operator ++ (int)   // 멤버 함수
{
    Digit temp(m_digit); 
    ++(*this); 
    return temp; 
}
```

1. 전위 증감 연산자와 구분하기 위해 더미 매개변수인 `int`를 둠
   - 전위 증감 연산자는 참조 타입으로 리턴하기 때문에 후위 연산자와 구분되기는 하지만 함수의 오버로딩에서 리턴 타입은 구분 기준이 되지 않음
   - 따라서 아무 역할을 하지 않는 더미 매개변수를 설정
2. 후위 증감 연산자는 연산의 결과가 바로 반영되지 않기 때문에 미리 연산 전의 값을 옮겨놓은 다음 연산하고 임시 저장해 둔 연산 전 값을 리턴
   - 증감시킬 때 전위 증감 연산자를 필요로 하기 때문에 후위 연산자 오버로딩 뿐만 아니라 전위 연산자 오버로딩도 같이 구현
3. 전위 증감 연산자와 다르게 자기 자신을 참조로 리턴하지 않고 Call by Value 타입으로 리턴
   - 임시 저장해둔 값을 리턴해야 하기 때문

**전역 함수로 구현**  

```cpp
#include <iostream>
using namespace std;

class Digit
{
private:
    int m_digit;
public:
    Digit(int digit = 0) : m_digit(digit) {}

    friend ostream& operator <<(ostream& out, const Digit& d)
    {
        out << d.m_digit;
        return out;
    }
    //prefix
    friend Digit & operator ++(Digit& digit)
    {
        ++digit.m_digit;
        return digit;
    }
    //postfix
    friend Digit operator ++(Digit& digit, int)
    {
        Digit temp(digit.m_digit);
        ++digit;
        return temp;
    }
};

int main()
{
    Digit d(5);
    cout << d++ << endl;    // 5 출력
    cout << d << endl;    // 6 출력

    return 0;
}
```

**멤버 함수로 구현**  

```cpp
#include <iostream>
using namespace std;

class Digit
{
private:
    int m_digit;
public:
    Digit(int digit = 0) : m_digit(digit) {}

    friend ostream& operator <<(ostream& out, const Digit& d)
    {
        out << d.m_digit;
        return out;
    }
    //prefix
    Digit& operator ++()
    {
        ++m_digit;
        return *this;
    }
    //postfix
    Digit operator ++(int)
    {
        Digit temp(m_digit); 
        ++(*this);
        return temp;
    }
};

int main()
{
    Digit d(5);
    cout << d++ << endl;    // 5 출력
    cout << d << endl;    // 6 출력

    return 0;
}
```
