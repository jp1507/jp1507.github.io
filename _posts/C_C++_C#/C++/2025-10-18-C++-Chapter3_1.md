---
title: "[C++] Chapter 3.1 연산자"
date: 2025-10-18 13:02:00 +0900
categories: ["C, C++, C#", C++]
tags: [programming, cpp, 프로그래밍, C++]
series: "따라하며 배우는 C++"
series_order : 13
math: true
image:
  path: https://imgur.com/Eqg7DeC.jpg
---

## 연산자 우선 순위와 결합 법칙

---

- =, +=, -=, ...
- 연산자 간 우선 순위를 외우기보단 우선 순위가 높은 것은 괄호로 묶어 가독성까지 챙기면 됨

## 산술 연산자

---

- 더하기, 곱하기, 나누기, 빼기

```cpp
int x = 7;
int y = 5;

cout << x / y << endl;  // 1  int
cout << float(x) / y << endl; // 1.75  float
cout << x / float(y) << endl;  // 1.75  float
cout << float(x) / float(y) << endl;  // 1.75  float
```

- 단항 연산자(`-`, `+` 등)는 숫자와 딱 붙여 쓰는 것이 가독성 좋음

## 증감 연산자

---

- 변수 기준 `++`나 `--`의 위치에 따라 연산 순서가 바뀜
  - 앞에 있으면 즉시 변수 값 1 증감
  - 뒤에 있으면 `;` 이후 변수 값 1 증감
- 다음은 지양해야할 방법
  - `add(x, ++x);`
    - 컴파일러가 두 파라미터 중 `x`를 먼저 연산할지 `++x`를 먼저 연산할지 모호함
  - `x = x++;`

## `sizeof` 연산자

---

- `sizeof`도 연산자
- 데이터 타입이나 변수의 크기를 리턴

```cpp
float a;

sizeof(float);
sizeof(a);
sizeof a;
```

## 쉼표(`,`) 연산자

---

1. 구분 기호  

    ```cpp
    int x = 3, y = 2;
    ```

    - `y`도 `int` 타입이라는 구분 기호
  
2. 연산자

    ```cpp
    int x = 3;
    int y = 10;

    int z = (x++, y++);
    z = x, y;
    ```

    - `,`는 `;`와 비슷한 역할이지만 `=`보다 연산 우선 순위가 낮음
    - `int z = (x++, y++);`
      - 괄호로 묶었기 때문에 `,`부터 실행
      - `y++` 값만 `z`에 대입됨
    - `z = x, y;`
      - `,`보다 `=`가 먼저 실행
      - `x` 값만 `z`에 대입됨
      - `(z = x), y;`와 마찬가지

```cpp
int x = 3;
int y = 10;

int z = x, y;  // Error !!!
```

- `int z = x, y;`에서의 콤마는 구분 기호이기 때문에 중복 선언으로 에러가 발생

## 조건 연산자

---

- 유일한 **삼항 연산자**
- `(조건식) ? A : B;`
  - 조건식이 참이면 `A`, 거짓이면 `B`
  - 이때 `A`와 `B`의 데이터 타입을 맞추는 것이 좋음

```cpp
bool onSale = true;
int price = 0;
    
price = (onSale == true) ? 10 : 100;
```
```cpp
bool onSale = true;
int price = 0;

if (onSale)
   price = 10;
else
   price = 100;
```

```cpp
cout << ( x % 2 == 0 ) ? "even" : "odd" << endl; // Error !!!
```

- 조건 연산자는 `<<`보다 우선 순위가 낮아 에러 발생

```cpp
bool onSale = true;
    
const int price = (onSale == true) ? 10 : 100;
```
```cpp
bool onSale = true;
    
if (onSale)
  const int price = 10;
else
  const int price = 100;

cout << price << endl; // Error !!! 
```

- 삼항 연산자는 `const`를 사용할 수 있어 조건문과 차이점이 있음
- 조건문 안에서의 변수 선언은 **지역 변수**
  - 따라서 `const int price`는 조건문을 벗어나면 사라짐

## 관계 연산자

---

- `==`, `!=`, `>`, `<`, `<=`, `>=`
- 두 피연산자의 관계를 다루며 결과 값은 `bool` 타입

```cpp
double d1 (100 - 99.99); // 0.001
double d2 (10 - 9.99); // 0.001

if (d1 == d2)
  cout << "equal" << endl;
else
{
  cout << "Not equal" << endl;

  if (d1 > d2) 
    cout << "d1 > d2" << endl;
  else 
    cout << "d1 < d2" << endl;
}
```

- 실수인 두 피연산자의 크기를 비교할 때 실수의 정확도 때문에 위 코드는 'Not equal', 'd1 > d2'가 출력됨

```cpp
double d1 (100 - 99.99); // 0.001
double d2 (10 - 9.99); // 0.001

const double epsilon = 1e - 10;

if (std::abs(d1 - d2) < epsilon)
  cout << "Approximattely qual" << endl;
else
  cout << "Not equal" << endl;
```

- 최소 오차인 엡실론 값을 정의해서 이 정도 오차라면 두 실수가 같다고 판단하도록 설정

## 논리 연산자

---

- 결과 값은 `bool` 타입
- 단항 연산자
  - `!` : NOT
    - 0이 아닌 다른 값은 `ture`이고 오직 0만 `false`
    - `x = 5` 라면 `!x` 의 결과값은 `false`
- 이항 연산자
  - `&&` : AND
  - `||` : OR

### 논리 연산자끼리의 우선 순위

- `!` > `&&` > `||`
  - `!x == y`와 `!(x == y)`의 결과가 다름
  - `A || B && C`와 `(A || B) && C`의 결과가 다름

### 논리 연산 시 `&&`와 `||`의 차이

- `A && B`
  - `A`가 거짓이면 `B`는 연산하지 않음
  - 이 점을 의도적으로 이용할 수 있음
  ```cpp
  int x = 2;
  int y = 2;

  if (x == 1 && y++ == 2)
  {
    // ...
  }

  cout << y << endl; // 출력 2
  // x == 1이 false이므로 y++은 실행 안됨
  ```

### 드모르간 법칙

- `!(a && b)` = `!a || !b`
- `!(a && b)` != `!a && !b`

### XOR 연산

- 두 피연산자의 값이 다를 때만 `true`이고 같으면 `false`
- C++에서 공식적으로 지원하는 연산자는 없지만 비트 연산에서 `^`는 유효함
